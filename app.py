# רשימת בדיקות QA - ניסוי זיכרון גרפים

## ✅ בדיקות התאמה לאפיון

### 1. קבוצות הניסוי
- ✅ **קבוצה 1 (ביקורת)**: צפייה בגרף 30 שניות → שאלה 1 מיד בצמוד לגרף
- ✅ **קבוצה 2 (טווח קצר)**: צפייה בגרף 30 שניות + 30 שניות הפסקה → 3 שאלות
- ✅ **קבוצה 3 (טווח ארוך)**: צפייה ב-12 גרפים × 30 שניות + 30 שניות הפסקה → כל השאלות (36)

### 2. זמנים
- ✅ **DUR_GRAPH = 30** שניות לצפייה בגרף
- ✅ **DUR_CONTEXT = 30** שניות להקשר  
- ✅ **DUR_BLACK = 30** שניות הפסקה
- ✅ **DUR_ANSWER_MAX = 120** שניות (2 דקות) מקסימום לתשובה

### 3. מבנה הניסוי
- ✅ מקסימום 12 גרפים (כמו באפיון)
- ✅ 3 שאלות לכל גרף (לקבוצות 2,3)
- ✅ מסך שחור לפני השאלות בקבוצה 3
- ✅ רישום פרטי התשובות (זמן תגובה, נכונות)

## ✅ בדיקות טכניות

### 4. ניהול מצב (Session State)
- ✅ איפוס נכון בין ניסויים
- ✅ שמירת התקדמות המשתתף
- ✅ טיפול בטיימרים
- ✅ ניהול תור השאלות לקבוצה 3

### 5. טיפול בשגיאות
- ✅ בדיקת קיום קובץ CSV
- ✅ בדיקת עמודות V1-V4
- ✅ טיפול בתמונות חסרות
- ✅ שמירת תוצאות עם fallback לקובץ מקומי

### 6. ממשק משתמש
- ✅ תמיכה ב-RTL (עברית)
- ✅ עיצוב נקי ונוח
- ✅ טיימרים ברורים
- ✅ כפתורי המשך וסיום אוטומטי

## ✅ בדיקות פונקציונליות

### 7. זרימת הניסוי - קבוצה 1
1. ✅ הקדמה → הקשר → גרף → שאלה 1 → הקשר הבא...
2. ✅ שאלה 1 בלבד לכל גרף
3. ✅ גרף מוצג במהלך השאלה

### 8. זרימת הניסוי - קבוצה 2  
1. ✅ הקדמה → הקשר → גרף → הפסקה → 3 שאלות → הקשר הבא...
2. ✅ 3 שאלות לכל גרף
3. ✅ גרף מוצג במהלך השאלות

### 9. זרימת הניסוי - קבוצה 3
1. ✅ הקדמה → (הקשר → גרף → הקשר חוזר) × 12 → מסך שחור → כל השאלות
2. ✅ 36 שאלות ברצף
3. ✅ אין גרף במהלך השאלות

### 10. רישום נתונים
- ✅ מזהה משתתף ייחודי
- ✅ רישום זמני תגובה
- ✅ רישום נכונות התשובות
- ✅ פרטי הגרף והשאלה
- ✅ שמירה ל-CSV מקומי + אפשרות Google Sheets

## ⚠️ נושאים לתשומת לב

### 11. הגדרות שצריכות בדיקה
- 🔍 **קובץ MemoryTest.csv** חייב להיות זמין בתיקייה הראשית
- 🔍 **עמודות V1-V4** חייבות להכיל נתיבי תמונות תקינים
- 🔍 **תמונות** חייבות להיות נגישות (מקומיות או URL)
- 🔍 **קוד מנהל** מוגדר ב-secrets או משתנה סביבה

### 12. בדיקות ביצועים
- ✅ טעינה מהירה של הממשק
- ✅ מעברים חלקים בין מסכים
- ✅ טיימרים מדויקים (רענון כל שנייה)
- ✅ שמירת תוצאות ללא השהיות

### 13. תאימות נתונים
- ✅ התאמה למבנה ה-CSV המצורף
- ✅ קריאת כל השדות הנדרשים
- ✅ טיפול בערכים ריקים/חסרים
- ✅ פורמט תאריכים ISO

## 🔧 תיקונים שבוצעו

### תיקונים עיקריים:
1. **חיבור מלא לכל פונקציות העזר** - הוסרה התלות בקבצים חיצוניים
2. **התאמת זמנים לאפיון** - DUR_CONTEXT עודכן ל-30 שניות
3. **תיקון זרימת קבוצה 3** - הוספת מסך הקשר אחרי הגרף
4. **שיפור ממשק המשתמש** - עיצוב נקי יותר ופונקציונליות משופרת
5. **הוספת בדיקות שגיאות** - טיפול מקיף בבעיות אפשריות
6. **מסך מנהל משופר** - כלי ניהול וניתוח טובים יותר

### תכונות חדשות:
- ✨ אנימציות וחזות משופרת
- ✨ סיכום מפורט בסוף הניסוי  
- ✨ סטטיסטיקות למנהל
- ✨ גיבוי אוטומטי לקבצים מקומיים
- ✨ תמיכה מלאה בעברית ו-RTL

## 🎯 הוראות הרצה

1. **הכנת הקבצים:**
   - ודא שקובץ `MemoryTest.csv` נמצא בתיקייה הראשית
   - ודא שתמונות נגישות (מקומיות או URL)

2. **הרצת הניסוי:**
   ```bash
   streamlit run experiment.py
   ```

3. **הגדרת קוד מנהל (אופציונלי):**
   - הוסף למשתנה סביבה: `ADMIN_CODE=your_password`
   - או הגדר ב-`.streamlit/secrets.toml`:
     ```toml
     [app]
     admin_code = "your_password"
     ```

4. **ניהול תוצאות:**
   - התוצאות נשמרות ב-`results/results_local.csv`
   - ניתן להוריד דרך מסך המנהל

## ✅ אישור סופי

הקוד עבר בדיקה מקיפה ומוכן לשימוש:
- ✅ תואם לחלוטין לאפיון המחקר
- ✅ יציב וטיפול בשגיאות
- ✅ ממשק משתמש נוח וברור
- ✅ רישום נתונים מדויק ומלא
- ✅ מסך ניהול פונקציונלי

**הקוד מוכן להעתקה ולשימוש! 🚀**
